(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{137:function(e,t,a){e.exports=a.p+"static/media/NoImage.e10f42e0.png"},202:function(e,t,a){e.exports=a.p+"static/media/wedding-rings.2daee2c9.png"},206:function(e,t,a){e.exports=a(370)},212:function(e,t,a){},216:function(e,t,a){},218:function(e,t,a){e.exports=a.p+"static/media/bowl.caba6159.png"},224:function(e,t,a){},226:function(e,t,a){},232:function(e,t,a){},234:function(e,t,a){},263:function(e,t,a){},265:function(e,t,a){},274:function(e,t){},276:function(e,t){},286:function(e,t){},288:function(e,t){},315:function(e,t){},317:function(e,t){},318:function(e,t){},323:function(e,t){},325:function(e,t){},331:function(e,t){},333:function(e,t){},352:function(e,t){},364:function(e,t){},367:function(e,t){},370:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(201),o=a.n(c),l=(a(212),a(25)),s=a.n(l),u=a(47),i=(a(216),a(204)),m=a(6),d=a(378),p=a(97),f=a(89),E=(a(218),a(202)),g=a.n(E),b=function(){return r.a.createElement(p.a,{bg:"dark",variant:"dark",expand:"lg",sticky:"top"},r.a.createElement(d.a,{fluid:!0},r.a.createElement(p.a.Brand,null,r.a.createElement("img",{src:g.a,width:"30",height:"30",className:"d-inline-block align-top",alt:"Icon"})),r.a.createElement(p.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(p.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(f.a,{className:"me-auto"},r.a.createElement(f.a.Link,{href:"/"},"Home"),r.a.createElement(f.a.Link,{href:"/products"},"Products"),r.a.createElement(f.a.Link,{href:"/checkout"},"Checkout"),r.a.createElement(f.a.Link,{href:"/login"},"Login")))))},v=(a(224),function(){return r.a.createElement("div",{className:"headerTitle"},r.a.createElement("h1",null,"Made To Order Products"),r.a.createElement("p",null,"Products are made when you order them When you checkout a form will be pre-populated with your itmes Please provide your contact information and the artist will reach out to you"))}),y=a(2),h=a(379),N=a(380),w=a(7),k=a(228),P=a(385),C=a(72),O=a(372),S=(a(226),function(e){var t=e.product,a=t.id,c=t.name,o=t.description,l=t.price,s=t.picLocation,u=Object(n.useState)(0),i=Object(w.a)(u,2),m=i[0],d=i[1];return r.a.createElement(k.a,null,r.a.createElement(O.a,{border:"dark",style:{width:"18rem"}},r.a.createElement(O.a.Img,{variant:"top",src:s}),r.a.createElement(O.a.Body,null,r.a.createElement(O.a.Title,null,c),r.a.createElement(O.a.Text,null,o,r.a.createElement("br",null),"".concat(l)),r.a.createElement("div",{className:"qtyOrder"},r.a.createElement(P.a.Control,{className:"qty",onChange:function(e){d(e.target.value)},type:"quantity",placeholder:"Qty"}),r.a.createElement(C.a,{className:"orderBtn",variant:"outline-dark",onClick:e.onClick,id:a,qty:m},"Add To Order")))))}),j=(a(232),function(e){var t=e.products,a=[];Object(n.useEffect)(function(){for(var e=0;e<=10;e++)a.push(e)},[]);var c=function(a){a.preventDefault();var n=Number(a.target.id),r=Number(a.target.previousSibling.value);t.map(function(t){return t.id===n&&(e.onClick(Object(y.a)({qty:r},t)),a.target.previousSibling.value=""),null})};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"products"},r.a.createElement(h.a,null,r.a.createElement(N.a,{xs:10,md:10,className:"g-4"},t.map(function(e,t){return r.a.createElement(S,{className:e.prodName,key:t,product:e,quantity:a,onClick:c})})))))}),I=a(381),x=a(229),L=(a(234),function(e){var t=JSON.parse(sessionStorage.getItem("cartData")),a=function(e){var a=e.target.id,n=e.target.value;console.log(t[a].qty),t[a].qty=n};if(t.length>0){var n=t.map(function(e,t){return r.a.createElement("div",{className:"card",key:t},r.a.createElement(O.a.Body,{className:"cartCardBody",key:t},r.a.createElement(O.a.Img,{variant:"Left",src:e.picLocation,width:"50px","border-radius":"10%"}),r.a.createElement(O.a.Text,{className:"cardText"},e.name),r.a.createElement(O.a.Text,{className:"cardText"},e.price),r.a.createElement(P.a.Control,{className:"cardQty",type:"Qty",placeholder:e.qty,onChange:a,id:t})))});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"cartObjects"},r.a.createElement("h2",null,"Cart Contents"),r.a.createElement(O.a,{className:"items"},n)),r.a.createElement("div",{className:"orderForm"},r.a.createElement(P.a,null,r.a.createElement(P.a.Group,{className:"mb-3",controlId:"formBasicName"},r.a.createElement(P.a.Label,null,"Name"),r.a.createElement(P.a.Control,{type:"Name",placeholder:""})),r.a.createElement(P.a.Group,{className:"mb-3",controlId:"formBasicAddress"},r.a.createElement(P.a.Label,null,"Address"),r.a.createElement(P.a.Control,{type:"address",placeholder:""})),r.a.createElement(P.a.Group,{className:"mb-3",controlId:"formBasicCity"},r.a.createElement(P.a.Label,null,"City"),r.a.createElement(P.a.Control,{type:"city",placeholder:""})),r.a.createElement(P.a.Group,{className:"mb-3",controlId:"formBasicCountry"},r.a.createElement(P.a.Label,null,"Country"),r.a.createElement(P.a.Control,{type:"country",placeholder:""})),r.a.createElement(P.a.Group,{className:"mb-3",controlId:"formBasicEmail"},r.a.createElement(P.a.Label,null,"Email address"),r.a.createElement(P.a.Control,{type:"email",placeholder:"Enter email"}),r.a.createElement(P.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),r.a.createElement(I.a,null,r.a.createElement(I.a.Text,null,"Notes:"),r.a.createElement(x.a,{as:"textarea","aria-label":"With textarea"})),r.a.createElement(C.a,{className:"ctrlBtn",variant:"primary",type:"submit"},"Submit"),r.a.createElement(C.a,{className:"ctrlBtn",variant:"primary",size:"large",onClick:function(){sessionStorage.setItem("cartData",JSON.stringify([])),window.location.reload()}},"Clear Cart"))))}return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"No Products Added"))}),T=a(48),B=a(42),D=a(43),U=a(73),q=a.n(U);q.a.defaults.headers.common={"Content-Type":"application/json"};var A="https://made-to-order.herokuapp.com",F=function(){function e(){Object(B.a)(this,e)}return Object(D.a)(e,[{key:"getAllProducts",value:function(){return q.a.get(A+"/products").then(function(e){return e.data})}},{key:"addProduct",value:function(e){try{return q.a.post(A+"/products",e).then(function(e){return e.data})}catch(t){throw t}}},{key:"updateProduct",value:function(e){try{return q.a.put(A+"/products",e).then(function(e){return e.data})}catch(t){throw t}}},{key:"deleteProduct",value:function(e){return q.a.delete(A+"/products",{data:e}).then(function(e){return e.data})}},{key:"authUser",value:function(e){return q.a.post(A+"/auth/login",{username:e.username,password:e.password}).then(function(e){return e.data})}},{key:"logout",value:function(e){return q.a.delete(A+"/auth/logout",{data:{UserToken:e}}).then(function(e){return e.data})}}]),e}(),G=a(138),J=a(137),W=a.n(J),H=Object(G.b)({name:"userState",initialState:{products:[],cart:[],newProduct:{id:0,name:"",description:"",price:0,picLocation:W.a}},reducers:{loadProducts:function(e,t){e.products=t.payload},addToCart:function(e,t){e.cart.push(t.payload),sessionStorage.setItem("cartData",JSON.stringify(e.cart))},initCart:function(e,t){e.cart=t.payload},removeItem:function(e,t){e.cart.filter(function(e){return e.id!==t.payload.id})},clearCart:function(e,t){e.cart=[]},newProductLoad:function(e,t){e.newProduct.id=t.payload.id,e.newProduct.name=t.payload.name,e.newProduct.description=t.payload.description,e.newProduct.price=t.payload.price},addProductURL:function(e,t){e.newProduct.picLocation=t.payload},clearNewProduct:function(e,t){e.newProduct={},e.newProduct.picLocation=W.a}}}),Q=Object(G.a)({reducer:{userState:H.reducer}}),R=H.actions,_=R.loadProducts,M=R.addToCart,z=(R.removeItem,R.clearCart,R.newProductLoad),K=R.addProductURL,V=R.clearNewProduct,$=R.initCart,X=a(382),Y=a(383),Z=a(371),ee=(a(263),a(109)),te=a(38),ae=a(110),ne=function(e){function t(e){return Object(B.a)(this,t),Object(ee.a)(this,Object(te.a)(t).call(this,e))}return Object(ae.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=window.cloudinary.createUploadWidget({cloudName:"drig2qdcm",uploadPreset:"v3yvbipy"},function(t,a){!t&&a&&"success"===a.event&&(console.log("Done! Here is the image info: ",a.info),e.props.storePic(a.info.secure_url))});document.getElementById("upload_widget").addEventListener("click",function(){t.open()},!1)}},{key:"render",value:function(){return r.a.createElement("button",{id:"upload_widget",className:"cloudinary-button"},"Upload Image")}}]),t}(n.Component),re=new F,ce=function(e){var t=Object(T.c)(function(e){return e.userState}),a=t.products,c=t.newProduct,o=Object(T.b)(),l=Object(n.useState)(!1),i=Object(w.a)(l,2),m=i[0],d=i[1],p=function(){var e=Object(u.a)(s.a.mark(function e(t){var a,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=sessionStorage.getItem("session"),n={},m){e.next=8;break}return e.next=5,re.addProduct({newProduct:c,UserToken:a});case 5:n=e.sent,e.next=11;break;case 8:return e.next=10,re.updateProduct({newProduct:c,userToken:a});case 10:n=e.sent;case 11:console.log(n),n.status?o(V()):sessionStorage.setItem("session",""),document.location.reload();case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(u.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.deleteProduct({id:c.id,UserToken:sessionStorage.getItem("session")});case 2:e.sent,o(V()),document.location.reload();case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"productForm"},r.a.createElement(ne,{storePic:function(e){o(K(e))}}),r.a.createElement(X.a,{id:"dropdown-variants-primary",title:"Select Product",className:"selectButton",as:Y.a,onSelect:function(e){var t=a.find(function(t){return t.id===Number(e)});o(z(t)),o(K(t.picLocation)),document.getElementsByClassName("name")[0].value=t.name,document.getElementsByClassName("desc")[0].value=t.description,document.getElementsByClassName("price")[0].value=t.price.slice(1,t.price.length),d(!0)}},a.map(function(e,t){return r.a.createElement(Z.a.Item,{key:t,eventKey:e.id},e.name)})),r.a.createElement(P.a,{onChange:function(e){o(z({id:c.id,name:e.target.form[0].value,description:e.target.form[1].value,price:Number(document.getElementsByClassName("price")[0].value)}))}},r.a.createElement(P.a.Group,{className:"mb-3",controlId:"formBasicText"},r.a.createElement(P.a.Label,null,"Product Title"),r.a.createElement(P.a.Control,{className:"name",type:"name",placeholder:"Name of Item"})),r.a.createElement(P.a.Group,{className:"mb-3",controlId:"formBasicText"},r.a.createElement(P.a.Label,null,"Product Description"),r.a.createElement(P.a.Control,{className:"desc",type:"description",placeholder:"Describe the Product"})),r.a.createElement(P.a.Label,null,"Item Price"),r.a.createElement(I.a,{className:"mb-3"},r.a.createElement(I.a.Text,null,"$"),r.a.createElement(x.a,{className:"price","aria-label":"Product Price"}),r.a.createElement(I.a.Text,null,".00")),r.a.createElement(C.a,{variant:"danger",onClick:f,className:"submitButton",disabled:!m},"Delete Product"),r.a.createElement(C.a,{variant:"primary",onClick:p,className:"submitButton"},"Submit")),r.a.createElement("div",{className:"picPrev"},r.a.createElement("img",{src:c.picLocation,className:"picPrev",alt:"Product to add"}))))},oe=(a(265),a(267),a(384)),le=new F,se=Number("32"),ue=function(){var e=Object(n.useState)(!1),t=Object(w.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),l=Object(w.a)(o,2),i=l[0],m=l[1],d=Object(n.useState)(!1),p=Object(w.a)(d,2),f=p[0],E=p[1];Object(n.useEffect)(function(){null!==sessionStorage.getItem("userEmail")&&"Visible"}),Object(n.useEffect)(function(){var e=sessionStorage.getItem("session");E(!!e)},[]);var g=function(){var e=Object(u.a)(s.a.mark(function e(t){var a,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target.form[1].value,e.prev=2,e.next=5,le.authUser({username:t.target.form[0].value,password:a});case 5:(n=e.sent).session.length===se&&(c(!0),m(!1),sessionStorage.setItem("session",n.session),t.target.form[0].value="",t.target.form[1].value="",E(!0)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),c(!1),m(!0);case 13:case"end":return e.stop()}},e,null,[[2,9]])}));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(u.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.logout(sessionStorage.getItem("session"));case 2:t=e.sent,console.log(t),sessionStorage.setItem("session",""),window.location.reload();case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return f?r.a.createElement("div",null,r.a.createElement(oe.a,{key:"success",variant:"success",show:a},r.a.createElement(oe.a.Heading,null,"Welcome"),r.a.createElement("p",null,"Please Use The Form Below To Add or Update Products")),r.a.createElement(ce,null),r.a.createElement("div",{className:"formBlock"},r.a.createElement("button",{type:"button",id:"btn",className:"btn btn-primary",onClick:b},"Log Out"))):r.a.createElement("div",null,r.a.createElement(oe.a,{key:"danger",variant:"danger",show:i,onClose:function(){return m(!1)},dismissible:!0},"Incorrect Login, Please Try Again"),r.a.createElement("form",{className:"formBlock"},r.a.createElement("h3",null,"Sign In"),r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",null,"Email address"),r.a.createElement("input",{type:"email",className:"form-control",placeholder:"Enter email"})),r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Enter password"})),r.a.createElement("div",{className:"mb-3"}),r.a.createElement("div",{className:"d-grid"},r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:g},"Submit"))))};var ie=function(){var e=Object(T.c)(function(e){return e.userState}),t=e.products,a=e.cart,c=Object(T.b)(),o=new F;return Object(n.useEffect)(function(){"true"!==sessionStorage.getItem("isNew")&&(sessionStorage.setItem("isNew",!0),sessionStorage.setItem("cartData",JSON.stringify([])),sessionStorage.setItem("session",""))},[]),Object(n.useEffect)(function(){function e(){return(e=Object(u.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getAllProducts();case 2:t=e.sent,c(_(t));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){var e=JSON.parse(sessionStorage.getItem("cartData"));e.length>0&&0===a.length&&c($(e))}(),function(){e.apply(this,arguments)}()},[]),Object(n.useEffect)(function(){a.length},[a]),r.a.createElement(i.a,null,r.a.createElement(b,null),r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/",element:r.a.createElement(v,null)}),r.a.createElement(m.a,{path:"/products",element:r.a.createElement(j,{products:t,onClick:function(e){a.find(function(t){return t.id===e.id})||c(M(e))}})}),r.a.createElement(m.a,{path:"/checkout",element:r.a.createElement(L,null)}),r.a.createElement(m.a,{path:"/addprod",element:r.a.createElement(ce,null)}),r.a.createElement(m.a,{path:"/login",element:r.a.createElement(ue,null)})))};o.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{store:Q},r.a.createElement(ie,null))))}},[[206,2,1]]]);
//# sourceMappingURL=main.45d9019d.chunk.js.map